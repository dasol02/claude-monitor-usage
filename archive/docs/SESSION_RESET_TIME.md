# ì„¸ì…˜ ë¦¬ì…‹ ì‹œê°„ ì„¤ì • ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

Claudeì˜ ì„¸ì…˜ ë¦¬ì…‹ ì‹œê°„ì€ ê°€ë” ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **ì˜¤ëŠ˜**: 19:00ì— ë¦¬ì…‹
- **ì–´ì œ**: 20:00ì— ë¦¬ì…‹

ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ë¦¬ì…‹ ì‹œê°„ì„ ê°„ë‹¨í•˜ê²Œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ì‚¬ìš© ë°©ë²•

### ë°©ë²• 1: SwiftBar ë©”ë‰´ì—ì„œ ì„¤ì •

1. SwiftBar ë©”ë‰´ë°” ì•„ì´ì½˜ í´ë¦­
2. ë“œë¡­ë‹¤ìš´ì—ì„œ **"â° Session Reset Time"** ì„¹ì…˜ ì°¾ê¸°
3. **"Set reset time"** í´ë¦­
4. í„°ë¯¸ë„ì—ì„œ ë¦¬ì…‹ ì‹œê°„ ì…ë ¥ (ì˜ˆ: `20`)
5. ìë™ìœ¼ë¡œ ì ìš©ë¨

```
â° Session Reset Time
  Current: 19:00
  Set reset time  â† í´ë¦­
```

### ë°©ë²• 2: CLIì—ì„œ ì§ì ‘ ì„¤ì •

```bash
# í˜„ì¬ ì„¤ì • í™•ì¸
claude-set-session-resets

# ë¦¬ì…‹ ì‹œê°„ ë³€ê²½ (ì˜ˆ: 20ì‹œ)
claude-set-session-resets 20
```

---

## ğŸ”„ ë™ì‘ ì›ë¦¬

### ì…ë ¥: ë¦¬ì…‹ ì‹œê°„
```bash
claude-set-session-resets 20  # 20:00ì— ë¦¬ì…‹
```

### ìë™ ê³„ì‚°: Base Hour
- **ë¦¬ì…‹ ì‹œê°„**: 20:00
- **Base hour ê³„ì‚°**: `(20 - 5) = 15`
- **ê²°ê³¼**: ì„¸ì…˜ì€ 15ì‹œë¶€í„° ì‹œì‘

### ìƒì„±ë˜ëŠ” ì„¸ì…˜ ìœˆë„ìš°
```
15:00-20:00  â† ì²« ì„¸ì…˜ (20ì‹œì— ë¦¬ì…‹)
20:00-01:00
01:00-06:00
06:00-11:00
11:00-16:00
```

---

## ğŸ“Š ì˜ˆì‹œ

### ì˜ˆì‹œ 1: í˜„ì¬ (19ì‹œ ë¦¬ì…‹)
```bash
$ claude-set-session-resets 19

Current reset time: 19:00 (base: 14)

New session windows:
  - 14:00-19:00 â† First session resets at 19:00
  - 19:00-00:00
  - 00:00-05:00
  - 05:00-10:00
  - 10:00-15:00
```

### ì˜ˆì‹œ 2: ì–´ì œ (20ì‹œ ë¦¬ì…‹)
```bash
$ claude-set-session-resets 20

Current reset time: 19:00 (base: 14)

Changing reset time to: 20:00
   â†’ Calculated base hour: 15

New session windows:
  - 15:00-20:00 â† First session resets at 20:00
  - 20:00-01:00
  - 01:00-06:00
  - 06:00-11:00
  - 11:00-16:00
```

### ì˜ˆì‹œ 3: ìƒˆë²½ ë¦¬ì…‹
```bash
$ claude-set-session-resets 8

New session windows:
  - 03:00-08:00 â† First session resets at 08:00
  - 08:00-13:00
  - 13:00-18:00
  - 18:00-23:00
  - 23:00-04:00
```

---

## âœ… ë³€ê²½ í›„ ìë™ ì²˜ë¦¬

**2025-10-17 ì—…ë°ì´íŠ¸**: ë¦¬ì…‹ ì‹œê°„ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

### ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì‘ì—…

1. **ëª¨ë‹ˆí„° ë°ëª¬ ì¬ì‹œì‘**
   - ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
   - ìƒˆ ì„¤ì •ìœ¼ë¡œ ë°ëª¬ ì¬ì‹œì‘
   - 0.5ì´ˆ ëŒ€ê¸° í›„ ì•ˆì •í™”

2. **SwiftBar ìƒˆë¡œê³ ì¹¨**
   - í”ŒëŸ¬ê·¸ì¸ ìë™ ê°±ì‹ 
   - ìƒˆ ì„¸ì…˜ ìœˆë„ìš° í‘œì‹œ

3. **ì™„ë£Œ ë©”ì‹œì§€ ì¶œë ¥**
   ```
   ğŸ”„ Restarting monitor daemon...
   âœ… Monitor daemon restarted
   ğŸ”„ Refreshing SwiftBar...
   âœ… SwiftBar refreshed
   ğŸ’¡ Tip: If needed, recalibrate with: claude-calibrate <actual_%>
   ```

### ìˆ˜ë™ ì‘ì—… (ì„ íƒì‚¬í•­)

#### ì¬ì¡°ì • (ê¶Œì¥)
```bash
# ê¸°ì¡´ calibration ë°ì´í„° í™•ì¸
claude-calibrate --status

# Claude usage UIì—ì„œ í˜„ì¬ % í™•ì¸ í›„
claude-calibrate <actual_%>
```

**ì°¸ê³ **:
- ê¸°ì¡´ calibration ë°ì´í„°ëŠ” ì´ì „ ìœˆë„ìš° í‚¤ ì‚¬ìš© (ì˜ˆ: `14:00-19:00`)
- ìƒˆ ìœˆë„ìš° í‚¤ (ì˜ˆ: `15:00-20:00`)ì—ëŠ” ë°ì´í„° ì—†ìŒ
- **Global fallback limit**ìœ¼ë¡œ ë‹¤ë¥¸ ì„¸ì…˜ ë°ì´í„° í™œìš© (ìë™)
- ìƒˆ ì„¸ì…˜ì—ì„œ ì¬ì¡°ì •í•˜ë©´ ì •í™•ë„ ì¶”ê°€ í–¥ìƒ (ì„ íƒ)

---

## ğŸ” ì‹¤ì œ ë¦¬ì…‹ ì‹œê°„ í™•ì¸ ë°©ë²•

### Claude Codeì—ì„œ í™•ì¸
```bash
# Claude Codeì—ì„œ
/usage
```

ì¶œë ¥ ì˜ˆì‹œ:
```
Session Output: 10%
Resets in 2h 30m (at 19:00 KST)  â† ì—¬ê¸°ì„œ í™•ì¸
```

### ë˜ëŠ” SwiftBarì—ì„œ í™•ì¸
ë©”ë‰´ë°” â†’ ë“œë¡­ë‹¤ìš´ì—ì„œ:
```
ğŸ“Š Session (resets in 2h 30m)  â† í˜„ì¬ ë¦¬ì…‹ê¹Œì§€ ë‚¨ì€ ì‹œê°„
```

---

## ğŸ“ Config íŒŒì¼ ì§ì ‘ ìˆ˜ì • (ê³ ê¸‰)

**íŒŒì¼**: `~/.claude-monitor/config.json`

```json
{
  "reset_schedule": {
    "type": "rolling_5h",
    "description": "ë§ˆì§€ë§‰ ì‚¬ìš© ì‹œì ë¶€í„° 5ì‹œê°„ í›„ ë¦¬ì…‹",
    "session_base_hour": 14,  â† ì´ ê°’ ë³€ê²½ (14 = 19ì‹œ ë¦¬ì…‹)
    "note": "ì„¸ì…˜ ì‹œì‘ ê¸°ì¤€ ì‹œê°„"
  }
}
```

**Base hour ê³„ì‚°**:
```
session_base_hour = (reset_hour - 5 + 24) % 24

ì˜ˆì‹œ:
- 19ì‹œ ë¦¬ì…‹ â†’ (19 - 5) = 14
- 20ì‹œ ë¦¬ì…‹ â†’ (20 - 5) = 15
- 08ì‹œ ë¦¬ì…‹ â†’ (8 - 5) = 3
- 03ì‹œ ë¦¬ì…‹ â†’ (3 - 5 + 24) = 22
```

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: ë³€ê²½í–ˆëŠ”ë° SwiftBarì— ë°˜ì˜ ì•ˆë¨
```bash
# ìë™ ê°±ì‹ ì´ ì‹¤íŒ¨í•œ ê²½ìš° ìˆ˜ë™ìœ¼ë¡œ SwiftBar ê°•ì œ ìƒˆë¡œê³ ì¹¨
open swiftbar://refreshallplugins

# ë˜ëŠ” SwiftBar ì¬ì‹œì‘
killall SwiftBar
open -a SwiftBar
```

**ì°¸ê³ **: `claude-set-session-resets` ëª…ë ¹ì–´ëŠ” ìë™ìœ¼ë¡œ SwiftBarë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤ (2025-10-17 ì—…ë°ì´íŠ¸).

### ë¬¸ì œ 2: ëª¨ë‹ˆí„°ê°€ ì´ì „ ìœˆë„ìš° ì‚¬ìš©
```bash
# ìë™ ì¬ì‹œì‘ì´ ì‹¤íŒ¨í•œ ê²½ìš° ìˆ˜ë™ìœ¼ë¡œ ë°ëª¬ ì¬ì‹œì‘
killall claude-usage-monitor
~/.local/bin/claude-usage-monitor &

# í™•ì¸
python3 src/monitor_daemon.py --once | jq '.calibration.info.window_key'
# â†’ "15:00-20:00" (ìƒˆ ìœˆë„ìš°)
```

**ì°¸ê³ **: `claude-set-session-resets` ëª…ë ¹ì–´ëŠ” ìë™ìœ¼ë¡œ ë°ëª¬ì„ ì¬ì‹œì‘í•©ë‹ˆë‹¤ (2025-10-17 ì—…ë°ì´íŠ¸).

### ë¬¸ì œ 3: Calibration ë°ì´í„° ê¼¬ì„
```bash
# íŠ¹ì • ìœˆë„ìš° ë¦¬ì…‹ (ì´ì „ ìœˆë„ìš°)
python3 cleanup_window_data.py --window 14:00-19:00 --reset

# ìƒˆ ìœˆë„ìš°ì—ì„œ ì¬ì¡°ì •
claude-calibrate 10  # (Claude usage UI ê°’)
```

---

## ğŸ“– ê´€ë ¨ ëª…ë ¹ì–´

```bash
# í˜„ì¬ ì„¤ì • ë³´ê¸°
claude-set-session-resets

# ë¦¬ì…‹ ì‹œê°„ ë³€ê²½
claude-set-session-resets <hour>

# Calibration ìƒíƒœ í™•ì¸
claude-calibrate --status

# ëª¨ë‹ˆí„° í™•ì¸
python3 src/monitor_daemon.py --once | jq '.calibration.info.window_key'

# Config í™•ì¸
cat ~/.claude-monitor/config.json | jq '.reset_schedule'
```

---

## ğŸ“ FAQ

### Q: ì–¸ì œ ë³€ê²½í•´ì•¼ í•˜ë‚˜ìš”?
**A**: Claude usage UIì˜ ë¦¬ì…‹ ì‹œê°„ê³¼ ëª¨ë‹ˆí„°ì˜ ë¦¬ì…‹ ì‹œê°„ì´ ë‹¤ë¥¼ ë•Œ
- Claude: "Resets at 20:00"
- ëª¨ë‹ˆí„°: "Resets at 19:00"
â†’ `claude-set-session-resets 20` ì‹¤í–‰

### Q: ìì£¼ ë³€ê²½ë˜ë‚˜ìš”?
**A**: ê°€ë” ë³€ê²½ë©ë‹ˆë‹¤. ë³´í†µ í•˜ë£¨ì— í•œ ë²ˆ ì •ë„ í™•ì¸í•˜ë©´ ë©ë‹ˆë‹¤.

### Q: ë³€ê²½í•˜ë©´ ë°ì´í„° ì†ì‹¤ë˜ë‚˜ìš”?
**A**: ì•„ë‹ˆìš”. ê¸°ì¡´ ë°ì´í„°ëŠ” ìœ ì§€ë©ë‹ˆë‹¤.
- ì´ì „ ìœˆë„ìš° (14:00-19:00) ë°ì´í„°: ë³´ì¡´
- ìƒˆ ìœˆë„ìš° (15:00-20:00) ë°ì´í„°: ìƒˆë¡œ ìƒì„±

### Q: ëª¨ë“  ìœˆë„ìš°ê°€ 5ì‹œê°„ì¸ê°€ìš”?
**A**: ë„¤. ëª¨ë“  ì„¸ì…˜ì€ ì •í™•íˆ 5ì‹œê°„ì…ë‹ˆë‹¤.
- ì´ì „ êµ¬í˜„: 00:00-04:00 (4ì‹œê°„) - ë¶ˆê·œì¹™
- í˜„ì¬ êµ¬í˜„: ëª¨ë“  ìœˆë„ìš° 5ì‹œê°„ - ì¼ê´€ì„± âœ…

### Q: Base hour vs Reset hour?
**A**:
- **Reset hour**: ì‚¬ìš©ìê°€ ì…ë ¥í•˜ëŠ” ê°’ (ì§ê´€ì )
  - ì˜ˆ: 19 â†’ "19ì‹œì— ë¦¬ì…‹"
- **Base hour**: ë‚´ë¶€ì ìœ¼ë¡œ ê³„ì‚°ë˜ëŠ” ê°’ (ìë™)
  - ì˜ˆ: 14 â†’ "14ì‹œì— ì„¸ì…˜ ì‹œì‘" (19ì‹œ ë¦¬ì…‹)

---

**êµ¬í˜„ ì™„ë£Œì¼**: 2025-10-16
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-17 (ìë™ ì¬ì‹œì‘/ê°±ì‹  ì¶”ê°€)

**ê´€ë ¨ íŒŒì¼**:
- `/Users/dasollee/.local/bin/claude-set-session-resets` (CLI - ìë™ ì¬ì‹œì‘ í¬í•¨)
- `/Users/dasollee/.local/bin/claude-set-session-resets-prompt` (ì¸í„°ë™í‹°ë¸Œ)
- `plugins/ClaudeUsage.1m.sh` (SwiftBar ë²„íŠ¼)
- `config.json` (session_base_hour ì„¤ì •)

**ë³€ê²½ ì‚¬í•­ (2025-10-17)**:
- âœ… ìë™ ë°ëª¬ ì¬ì‹œì‘ ì¶”ê°€ (`killall` + `claude-usage-monitor &`)
- âœ… ìë™ SwiftBar ê°±ì‹  ì¶”ê°€ (`open "swiftbar://refreshallplugins"`)
- âœ… ì™„ë£Œ ë©”ì‹œì§€ ì¶œë ¥ ê°œì„ 
- âœ… Global fallback limitìœ¼ë¡œ ìƒˆ ì„¸ì…˜ ìë™ ëŒ€ì‘
